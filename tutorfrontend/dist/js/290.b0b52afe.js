"use strict";(self["webpackChunktutorfrontend"]=self["webpackChunktutorfrontend"]||[]).push([[290],{3290:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var r=s(3396),i=s(9242),n=s(7139);const l=e=>((0,r.dD)("data-v-48c088f6"),e=e(),(0,r.Cn)(),e),o={id:"id01",class:"modal"},a={key:0,class:"error-msg"},d=l((()=>(0,r._)("br",null,null,-1))),u={key:1,class:"error-msg"},p=l((()=>(0,r._)("br",null,null,-1))),m=l((()=>(0,r._)("span",{class:"login-title"},"Login",-1))),_=l((()=>(0,r._)("br",null,null,-1))),c={class:"container"},h=l((()=>(0,r._)("legend",null,"Email",-1))),w={key:0,class:"error-msg"},f=l((()=>(0,r._)("br",null,null,-1))),k=l((()=>(0,r._)("span",{class:"login-title"},"Login",-1))),g=l((()=>(0,r._)("br",null,null,-1))),v={class:"container"},y=l((()=>(0,r._)("legend",null,"Email",-1))),b=l((()=>(0,r._)("legend",null,"OTP",-1))),U={key:0,class:"error-msg"},S=l((()=>(0,r._)("br",null,null,-1))),$=l((()=>(0,r._)("span",{class:"login-title"},"Reset password",-1))),q=l((()=>(0,r._)("br",null,null,-1))),D={class:"container"},I=l((()=>(0,r._)("legend",null,"password",-1))),T=l((()=>(0,r._)("legend",null,"Re-enter password",-1)));function V(e,t,s,l,V,W){const P=(0,r.up)("base-header"),R=(0,r.up)("base-button"),L=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(P),(0,r._)("div",o,[V.token_sent||V.is_verified?V.token_sent&&!V.is_verified?((0,r.wg)(),(0,r.iD)("form",{key:1,class:"modal-content",onSubmit:t[4]||(t[4]=(0,i.iM)((e=>W.verifyToken()),["prevent"]))},[this.$store.state.err?((0,r.wg)(),(0,r.iD)("span",w,(0,n.zw)(this.$store.state.err),1)):(0,r.kq)("",!0),f,k,g,(0,r._)("div",v,[(0,r._)("fieldset",null,[y,(0,r.wy)((0,r._)("input",{type:"text",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=e=>V.email=e),disabled:""},null,512),[[i.nr,V.email]])]),(0,r._)("fieldset",null,[b,(0,r.wy)((0,r._)("input",{type:"text",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=e=>V.token=e),required:""},null,512),[[i.nr,V.token]])]),(0,r.Wm)(R,{type:"submit",mode:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)("Verify")])),_:1}),(0,r.Uk)(" or SignIn using "),(0,r.Wm)(L,{to:"/login"},{default:(0,r.w5)((()=>[(0,r.Uk)("SignIn")])),_:1})])],32)):((0,r.wg)(),(0,r.iD)("form",{key:2,class:"modal-content",onSubmit:t[7]||(t[7]=(0,i.iM)((e=>W.resetPassword()),["prevent"]))},[this.$store.state.err?((0,r.wg)(),(0,r.iD)("span",U,(0,n.zw)(this.$store.state.err),1)):(0,r.kq)("",!0),S,$,q,(0,r._)("div",D,[(0,r._)("fieldset",null,[I,(0,r.wy)((0,r._)("input",{type:"password",placeholder:"","onUpdate:modelValue":t[5]||(t[5]=e=>V.password=e),required:""},null,512),[[i.nr,V.password]])]),(0,r._)("fieldset",null,[T,(0,r.wy)((0,r._)("input",{type:"password",placeholder:"","onUpdate:modelValue":t[6]||(t[6]=e=>V.cnfpassword=e),required:""},null,512),[[i.nr,V.cnfpassword]])]),(0,r.Wm)(R,{type:"submit",mode:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)("Reset")])),_:1}),(0,r.Uk)(" or SignIn using "),(0,r.Wm)(L,{to:"/login"},{default:(0,r.w5)((()=>[(0,r.Uk)("SignIn")])),_:1})])],32)):((0,r.wg)(),(0,r.iD)("form",{key:0,class:"modal-content",onSubmit:t[1]||(t[1]=(0,i.iM)((e=>W.sendToken()),["prevent"]))},[this.$store.state.err?((0,r.wg)(),(0,r.iD)("span",a,(0,n.zw)(this.$store.state.err),1)):(0,r.kq)("",!0),d,this.error?((0,r.wg)(),(0,r.iD)("span",u,(0,n.zw)(this.error),1)):(0,r.kq)("",!0),p,m,_,(0,r._)("div",c,[(0,r._)("fieldset",null,[h,(0,r.wy)((0,r._)("input",{type:"text",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=e=>V.email=e),required:""},null,512),[[i.nr,V.email,void 0,{trim:!0}]])]),(0,r.Wm)(R,{type:"submit",mode:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)("Request token")])),_:1}),(0,r.Uk)(" or SignIn using "),(0,r.Wm)(L,{to:"/login"},{default:(0,r.w5)((()=>[(0,r.Uk)("SignIn")])),_:1})])],32))])],64)}var W=s(4161),P={data(){return{id:"",email:"",token:"",password:"",cnfpassword:"",text:"",is_verified:!1,token_sent:!1,error:""}},methods:{sendToken(){this.error="";var e=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;if(this.email=this.email.trim().toLowerCase(),e.test(this.email)){var t={email:this.email};W.Z.post(this.$store.state.API_URL1+"forgot-password/",t).then((e=>{console.log(e.data),this.id=e.data["id"],this.token_sent=e.data["token_sent"],this.error=this.token_sent?"":"This email is not registered!"})).catch((()=>{alert("gre"),this.error="Enter valid email address!"}))}else this.error="Enter valid email address!"},verifyToken(){var e={email:this.email,token:this.token};W.Z.post(this.$store.state.API_URL1+"verify-fp/",e).then((e=>{console.log(e.data),this.is_verified=e.data["verified"],this.token_sent=!1,this.is_verified_msg="Verified Sucessfully!",setTimeout((()=>{this.is_verified_msg=""}),5500)})).catch((()=>{this.token_sent=!0}))},resetPassword(){if(this.password===this.cnfpassword){const e={id:this.id,password:this.password};this.$store.dispatch("resetpassword",e)}else this.error="Passwords did not match!"}}},R=s(89);const L=(0,R.Z)(P,[["render",V],["__scopeId","data-v-48c088f6"]]);var x=L}}]);
//# sourceMappingURL=290.b0b52afe.js.map